{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const refs = {\n  input: document.querySelector('.search-input'),\n  list: document.querySelector('.gallery'),\n  form: document.querySelector('.form'),\n  loader: document.querySelector('.loader'),\n}\n\nexport { refs };","import iziToast from 'izitoast';\nimport { refs } from './refs';\n\nconst fetchParams = {\n  BASE_URL: 'https://pixabay.com/api/',\n  API_KEY: '49425225-4fab9228e9772b9206d5850f9',\n  IMAGE_TYPE: 'photo',\n  ORIENTATION: 'horizontal',\n  SEFESEARCH: true,\n}\n\nconst { BASE_URL, API_KEY, IMAGE_TYPE, ORIENTATION, SEFESEARCH } = fetchParams\n\nfunction fetchImages (value) {\n  if (!value) {\n    iziToast.error({\n      title: 'Error',\n      message: \"Please enter a valid search path!\",\n    });\n\n    return Promise.resolve([]);\n  }\n\n  refs.loader.classList.remove('hidden');\n\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${value}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SEFESEARCH}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Error data: ${response.status}`);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: \"Sorry, there are no images matching your search path. Please try again!\",\n        });\n\n        return [];\n      }\n\n      return data.hits;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: \"Something went wrong. Please try again!\",\n      })\n\n      console.log(error);\n    })\n    .finally(() => {\n      refs.loader.classList.add('hidden');\n    });\n}\n\nexport default fetchImages;","function renderImages (images) {\n  const markup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `\n\t\t    <li class=\"gallery-item\">\n\t\t\t    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t\t\t    <img\n\t\t\t\t\t    class=\"gallery-image\"\n\t\t\t\t\t    src=\"${webformatURL}\"\n\t\t\t\t\t    alt=\"${tags}\"\n\t\t\t\t\t  />\n\t\t\t    </a>\n          <div class=\"info\">\n            <p class=\"info-item\">\n              <b>Likes:</b> ${likes}\n            </p>\n            <p class=\"info-item\">\n              <b>Views:</b> ${views}\n            </p>\n            <p class=\"info-item\">\n              <b>Comments:</b> ${comments}\n            </p>\n            <p class=\"info-item\">\n              <b>Downloads:</b> ${downloads}\n            </p>\n\t\t    </li>`;\n    });\n\n  return markup.join('');\n}\n\nexport default renderImages;","import { refs } from \"./js/refs\";\nimport fetchImages from \"./js/pixabay-api\";\nimport renderImages from \"./js/render-functions\";\nimport SimpleLightbox from \"simplelightbox\";\n\nconst { form, input, list } = refs;\n\nlet lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const inputValue = input.value.trim();\n  list.innerHTML = \"\";\n\n  fetchImages(inputValue)\n    .then((images) => {\n      list.innerHTML = renderImages(images);\n      lightbox.refresh();\n    })\n    .catch((error) => console.log(error));\n});"],"names":["refs","fetchParams","BASE_URL","API_KEY","IMAGE_TYPE","ORIENTATION","SEFESEARCH","fetchImages","value","response","data","iziToast","error","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","input","list","lightbox","SimpleLightbox","event","inputValue"],"mappings":"6vBAAA,MAAMA,EAAO,CACX,MAAO,SAAS,cAAc,eAAe,EAC7C,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECFMC,EAAc,CAClB,SAAU,2BACV,QAAS,qCACT,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEM,CAAE,SAAAC,EAAU,QAAAC,EAAS,WAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAY,EAAGL,EAEnE,SAASM,EAAaC,EAAO,CAC3B,OAAKA,GASLR,EAAK,OAAO,UAAU,OAAO,QAAQ,EAE9B,MAAM,GAAGE,CAAQ,QAAQC,CAAO,MAAMK,CAAK,eAAeJ,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,EAAE,EAC9H,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,eAAeA,EAAS,MAAM,EAAE,EAGlD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yEACnB,CAAS,EAEM,IAGFD,EAAK,IACb,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACjB,CAAO,EAED,QAAQ,IAAIC,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbZ,EAAK,OAAO,UAAU,IAAI,QAAQ,CACxC,CAAK,IAxCDW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mCACf,CAAK,EAEM,QAAQ,QAAQ,CAAA,CAAE,EAoC7B,CCxDA,SAASE,EAAcC,EAAQ,CA4B7B,OA3BeA,EACZ,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA;AAAA,uCAE0BL,CAAa;AAAA;AAAA;AAAA,gBAGpCD,CAAY;AAAA,gBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKUC,CAAK;AAAA;AAAA;AAAA,8BAGLC,CAAK;AAAA;AAAA;AAAA,iCAGFC,CAAQ;AAAA;AAAA;AAAA,kCAGPC,CAAS;AAAA;AAAA,YAGtC,EAEW,KAAK,EAAE,CACvB,CCxBA,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,KAAAC,CAAI,EAAKxB,EAE9B,IAAIyB,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAWK,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAM,MAAM,KAAI,EACnCC,EAAK,UAAY,GAEjBjB,EAAYqB,CAAU,EACnB,KAAMd,GAAW,CAChBU,EAAK,UAAYX,EAAaC,CAAM,EACpCW,EAAS,QAAO,CACtB,CAAK,EACA,MAAOb,GAAU,QAAQ,IAAIA,CAAK,CAAC,CACxC,CAAC"}